clear all
clc


wz41 = [-1,-1,-1,-1;
         1, 1, 1, 1;
         1, 1, 1, 1;
        -1,-1,-1,-1];

bl41 = [-1,1,-1,-1;
         1, 1, 1,-1;
         1, 1, 1, 1;
        -1,-1,1,-1];

wz42 = [ 1,-1,-1, 1;
         1,-1,-1, 1;
         1,-1,-1, 1;
         1,-1,-1, 1];

wz43 = [ 1,-1,-1, 1;
        -1, 1, 1,-1;
        -1, 1, 1,-1;
         1,-1,-1, 1];

wz44 = [ 1, 1, 1, 1;
        -1,-1,-1,-1;
        -1,-1,-1,-1;
         1, 1, 1, 1];

wz45 = [-1,-1,-1,-1;
        1,1,1,1;
        1,1,1,1;
        -1,-1,-1,-1;
                ];

wz46 = [1,-1,-1,1;
       -1,-1,-1,-1;
       -1,-1,-1,-1;
        1,-1,-1,1;
                ];



wz61 = [ 1, -1, -1, -1, -1,  1;
           -1,  1, -1, -1,  1, -1;
           -1, -1,  1,  1, -1, -1;
           -1, -1,  1,  1, -1, -1;
           -1,  1, -1, -1,  1, -1;
            1, -1, -1, -1, -1,  1];


bl61 = [ 1, -1, -1, -1, -1,  1;
           -1,  1, 1, -1,  1, -1;
           -1, -1,  1,  -1, -1, -1;
           -1, -1,  1,  1, 1, -1;
           1,  1, -1, -1,  1, -1;
            1, -1, -1, -1, -1,  1];


wz62 = [ 1,-1,-1,-1,-1, 1;
         1,-1,-1,-1,-1, 1;
         1,-1,-1,-1,-1, 1;
         1,-1,-1,-1,-1, 1;
         1,-1,-1,-1,-1, 1;
         1,-1,-1,-1,-1, 1];

wz63 =[ 1, -1,  1, -1,  1, -1;
           -1,  1, -1,  1, -1,  1;
            1, -1,  1, -1,  1, -1;
           -1,  1, -1,  1, -1,  1;
            1, -1,  1, -1,  1, -1;
           -1,  1, -1,  1, -1,  1];

wz64 = [ 1, 1, 1, 1, 1, 1;
        -1,-1,-1,-1,-1,-1;
        -1,-1,-1,-1,-1,-1;
        -1,-1,-1,-1,-1,-1;
        -1,-1,-1,-1,-1,-1;
         1, 1, 1, 1, 1, 1];

wz65 = [-1,-1,-1,-1,-1,-1;
         1, 1, 1, 1, 1, 1;
         1, 1, 1, 1, 1, 1;
         1, 1, 1, 1, 1, 1;
         1, 1, 1, 1, 1, 1;
        -1,-1,-1,-1,-1,-1];

wz66 = [-1, -1,  1,  1, -1, -1;
           -1, -1,  1,  1, -1, -1;
            1,  1,  1,  1,  1,  1;
            1,  1,  1,  1,  1,  1;
           -1, -1,  1,  1, -1, -1;
           -1, -1,  1,  1, -1, -1];
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
D(:,1) = wz41(:);
D(:,2) = wz42(:);
D(:,3) = wz43(:);
D(:,4) = wz44(:);
D(:,5) = wz45(:);
D(:,6)= wz46(:);

W = (1/16)*([D(:,1),D(:,3)] * [D(:,1)';D(:,3)']);

for i=1:16
W(i,i) = 0;
end


y(1,:) = bl41(:);
for t=1:10

y(t+1,:) = sign(W*y(t,:)');

end
k2wz41 = reshape(y(11,:),4,4);
imshow(k2wz41)

W1 = (1/16)*([D(:,1),D(:,2),D(:,3),D(:,4)] * [D(:,1)';D(:,2)';D(:,3)';D(:,4)']);

y1(1,:) = bl41(:);
for t=1:10

y1(t+1,:) = sign(W1*y1(t,:)');

end
k4wz41 = reshape(y1(11,:),4,4);
figure
imshow(k4wz41)

W2 = (1/16)*([D(:,1),D(:,2),D(:,3),D(:,4),D(:,5),D(:,6)] * [D(:,1)';D(:,2)';D(:,3)';D(:,4)';D(:,5)';D(:,6)']);

y2(1,:) = bl41(:);
for t=1:10

y2(t+1,:) = sign(W2*y2(t,:)');

end
k6wz41 = reshape(y2(11,:),4,4);
figure
imshow(k6wz41)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

D6(:,1) = wz61(:);
D6(:,2) = wz62(:);
D6(:,3) = wz63(:);
D6(:,4) = wz64(:);
D6(:,5) = wz65(:);
D6(:,6) = wz66(:);

W6 = (1/36)*([D6(:,1),D6(:,3)] * [D6(:,1)';D6(:,3)']);

for i=1:36
W6(i,i) = 0;
end


y6(1,:) = bl61(:);
for t=1:10

y6(t+1,:) = sign(W6*y6(t,:)');

end
k2wz61 = reshape(y6(11,:),6,6);
imshow(k2wz61)

W61 = (1/36)*([D6(:,1),D6(:,2),D6(:,3),D6(:,4)] * [D6(:,1)';D6(:,2)';D6(:,3)';D6(:,4)']);

y61(1,:) = bl61(:);
for t=1:10

y61(t+1,:) = sign(W61*y61(t,:)');

end
k4wz61 = reshape(y61(11,:),6,6);
figure
imshow(k4wz61)

W2 = (1/16)*([D(:,1),D(:,2),D(:,3),D(:,4),D(:,5),D(:,6)] * [D(:,1)';D(:,2)';D(:,3)';D(:,4)';D(:,5)';D(:,6)']);

y2(1,:) = bl41(:);
for t=1:10

y2(t+1,:) = sign(W2*y2(t,:)');

end
k6wz41 = reshape(y2(11,:),4,4);
figure
imshow(k6wz41)



